(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{4565:function(e,n,t){Promise.resolve().then(t.bind(t,9974))},9974:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Quiz}});var r=t(7437),s=t(2265),i=t(1396),o=t.n(i),c=t(1046),a=t.n(c);function Quiz(){let[e,n]=(0,s.useState)([]),[t,i]=(0,s.useState)(null),[c,u]=(0,s.useState)([]),[l,d]=(0,s.useState)(!1),[h,_]=(0,s.useState)([]),[f,m]=(0,s.useState)(!0),[x,j]=(0,s.useState)(null);(0,s.useEffect)(()=>{loadQuestions()},[]);let loadQuestions=async()=>{try{let e=await fetch("/legislation.json");if(!e.ok)throw Error("Erreur lors du chargement du fichier JSON");let t=await e.json();n(t),m(!1)}catch(e){console.error("Erreur:",e),j("Impossible de charger les questions."),m(!1)}},getRandomIndex=()=>{let n;c.length===e.length&&u([]);let t=c.length===e.length?[]:c;do n=Math.floor(Math.random()*e.length);while(t.includes(n));return u(t=>t.length===e.length?[n]:[...t,n]),n},showQuestion=()=>{if(0===e.length)return;let n=getRandomIndex(),t=e[n];i(t),d(!1);let r=[...t.choices].sort(()=>Math.random()-.5);_(r)},handleAnswerClick=()=>{d(!0)};return((0,s.useEffect)(()=>{e.length>0&&showQuestion()},[e]),f)?(0,r.jsx)("div",{className:a().container,children:(0,r.jsx)("div",{className:a().questionContainer,children:(0,r.jsx)("div",{children:"Chargement des questions..."})})}):x?(0,r.jsx)("div",{className:a().container,children:(0,r.jsxs)("div",{className:a().questionContainer,children:[(0,r.jsx)("div",{children:x}),(0,r.jsx)(o(),{href:"/",className:a().homeLink,children:"Retour \xe0 l'accueil"})]})}):t?(0,r.jsxs)("div",{className:a().container,children:[(0,r.jsx)("div",{className:a().header,children:(0,r.jsx)(o(),{href:"/",className:a().homeLink,children:"← Retour \xe0 l'accueil"})}),(0,r.jsxs)("div",{className:a().questionContainer,children:[(0,r.jsx)("div",{className:a().question,children:t.question}),(0,r.jsx)("div",{className:a().answers,children:h.map((e,n)=>(0,r.jsx)("button",{className:"".concat(a().answerButton," ").concat(l?e.correct?a().correct:a().incorrect:""),onClick:handleAnswerClick,disabled:l,children:e.text},n))}),l&&(0,r.jsxs)("div",{className:a().source,children:["Source : ",(0,r.jsx)("a",{href:t.source,target:"_blank",rel:"noopener noreferrer",children:t.source})]}),l&&(0,r.jsx)("button",{className:a().nextButton,onClick:()=>{showQuestion()},children:"Question suivante"})]})]}):(0,r.jsx)("div",{className:a().container,children:(0,r.jsxs)("div",{className:a().questionContainer,children:[(0,r.jsx)("div",{children:"Aucune question disponible."}),(0,r.jsx)(o(),{href:"/",className:a().homeLink,children:"Retour \xe0 l'accueil"})]})})}},1046:function(e){e.exports={container:"quiz_container___2NU2",header:"quiz_header__nzRqi",homeLink:"quiz_homeLink__Brxtj",questionContainer:"quiz_questionContainer__WEOtZ",question:"quiz_question__QuWyX",answers:"quiz_answers__mDgFN",answerButton:"quiz_answerButton__rCI01",correct:"quiz_correct__WbDJv",incorrect:"quiz_incorrect__SQ4B6",source:"quiz_source__ExNfA",nextButton:"quiz_nextButton____Zgk"}},622:function(e,n,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=t(2265),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function q(e,n,t){var r,i={},u=null,l=null;for(r in void 0!==t&&(u=""+t),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(l=n.ref),n)o.call(n,r)&&!a.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===i[r]&&(i[r]=n[r]);return{$$typeof:s,type:e,key:u,ref:l,props:i,_owner:c.current}}n.Fragment=i,n.jsx=q,n.jsxs=q},7437:function(e,n,t){"use strict";e.exports=t(622)},1396:function(e,n,t){e.exports=t(8326)}},function(e){e.O(0,[326,971,472,744],function(){return e(e.s=4565)}),_N_E=e.O()}]);